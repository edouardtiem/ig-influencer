# 08 - StratÃ©gie VidÃ©o & Animation

> Extension du systÃ¨me de gÃ©nÃ©ration pour inclure du contenu vidÃ©o animÃ©

---

## ğŸ“‹ Vue d'ensemble

L'ajout de contenu vidÃ©o via l'animation d'images statiques permet de :

- **Augmenter le reach** : Les Reels/vidÃ©os obtiennent 4x plus de portÃ©e qu'une photo statique
- **AmÃ©liorer l'engagement** : VidÃ©os retiennent mieux l'attention (+60% completion rate)
- **Contourner la complexitÃ©** : Animations subtiles d'images fixes = indÃ©tectable et moins coÃ»teux que vidÃ©o native
- **Maximiser ROI** : RÃ©utiliser images gÃ©nÃ©rÃ©es + animation = 2 formats pour le prix de 1.1

**Objectif** : Passer de 3 photos/jour Ã  **3 photos + 1 vidÃ©o/jour** (+ mix Stories)

---

## ğŸ¯ Mix de Contenu Cible

### Distribution Quotidienne

```
FEED POSTS (1/jour):
â”œâ”€ Lundi, Mercredi, Vendredi : Photo statique haute qualitÃ©
â”‚  â€¢ Format : 4:5 (1080x1350)
â”‚  â€¢ OptimisÃ© : Aesthetics, Saves
â”‚  â€¢ But : Portfolio visuel, identitÃ© de marque
â”‚
â””â”€ Mardi, Jeudi, Samedi, Dimanche : Reel animÃ©
   â€¢ Format : 9:16 (1080x1920)
   â€¢ OptimisÃ© : Reach, Shares
   â€¢ But : DÃ©couvrabilitÃ© algorithmique

STORIES (5-10/jour):
â”œâ”€ 70% Photos : BTS, moments rapides, polls, Q&A
â””â”€ 30% VidÃ©os : Transitions, "day in my life", try-ons
```

### RÃ©partition Hebdomadaire

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Jour   â”‚  Feed   â”‚ Stories  â”‚    Focus    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Lundi   â”‚  Photo  â”‚ 5 photos â”‚ Inspiration â”‚
â”‚  Mardi   â”‚  Reel   â”‚ 3p + 2v  â”‚ Engagement  â”‚
â”‚Mercredi  â”‚  Photo  â”‚ 5 photos â”‚ Lifestyle   â”‚
â”‚  Jeudi   â”‚  Reel   â”‚ 3p + 2v  â”‚ Fitness     â”‚
â”‚Vendredi  â”‚  Photo  â”‚ 5 photos â”‚ OOTD        â”‚
â”‚ Samedi   â”‚  Reel   â”‚ 4p + 3v  â”‚ Weekend     â”‚
â”‚Dimanche  â”‚  Reel   â”‚ 4p + 3v  â”‚ Chill       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total/semaine : 3 photos + 4 reels + 35-50 stories
```

---

## ğŸ¬ Types de Mouvements par Contexte

### Portrait / Selfie

**Mouvements subtils organiques :**

- âœ… **Respiration** : Mouvement poitrine/Ã©paules lÃ©ger (2-3s loop)
- âœ… **Cheveux** : Ondulation naturelle comme si vent lÃ©ger
- âœ… **Clignement yeux** : 1-2 fois sur 3 secondes
- âœ… **Micro-sourire** : LÃ©gÃ¨re variation expression
- âŒ **Ã€ Ã©viter** : Mouvements bouche (uncanny valley)

**Cas d'usage :**
- Selfie miroir appartement
- Portrait cafÃ©
- Close-up maquillage/beautÃ©

### Full Body / OOTD

**Mouvements dynamiques :**

- âœ… **DÃ©placement lÃ©ger** : Marche sur place, shift de poids
- âœ… **VÃªtements fluides** : Robe/jupe qui bouge avec vent
- âœ… **Rotation camÃ©ra 3D** : Parallax lÃ©ger (2-3Â°)
- âœ… **Geste main** : Toucher cheveux, ajuster tenue
- âŒ **Ã€ Ã©viter** : Mouvements bras/jambes complexes

**Cas d'usage :**
- OOTD devant miroir
- Street style
- EntrÃ©e/sortie de champ

### Fitness / Athleisure

**Mouvements sportifs :**

- âœ… **Pose dynamique freeze** : Mi-mouvement (squat, stretch)
- âœ… **Muscle flex subtil** : LÃ©gÃ¨re tension visible
- âœ… **Ã‰quipement** : Yoga mat, poids qui bougent lÃ©gÃ¨rement
- âœ… **DÃ©cor gym** : Reflets miroirs, autres personnes floues
- âŒ **Ã€ Ã©viter** : Mouvements sportifs complets (difficile Ã  rendre)

**Cas d'usage :**
- Post-workout
- Exercices
- Transformation physique

### Environment / Lifestyle

**Mouvements environnementaux :**

- âœ… **Parallax** : ArriÃ¨re-plan bouge diffÃ©remment du sujet
- âœ… **Ã‰lÃ©ments contexte** : Feuilles d'arbres, vagues, passants flous
- âœ… **LumiÃ¨re** : Changement subtil d'intensitÃ©/angle
- âœ… **Reflets** : Eau, miroirs, vitres qui bougent
- âœ… **CamÃ©ra** : Zoom in/out trÃ¨s lÃ©ger, pan horizontal

**Cas d'usage :**
- Plage/mer (vagues)
- Rue parisienne (passants)
- CafÃ© (ambiance)
- Balcon golden hour

---

## ğŸ—ï¸ Pipeline Technique

### Architecture ProposÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   WORKFLOW GÃ‰NÃ‰RATION                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. GÃ©nÃ©ration Image Statique                              â”‚
â”‚     â†“                                                       â”‚
â”‚     Nano Banana Pro API                                    â”‚
â”‚     (Prompt contextualisÃ© via Life Calendar)               â”‚
â”‚     Output : image.jpg (1080x1920)                         â”‚
â”‚                                                             â”‚
â”‚  2. Quality Check Automatique                              â”‚
â”‚     â†“                                                       â”‚
â”‚     â€¢ DÃ©tection dÃ©formations (mains, visage)              â”‚
â”‚     â€¢ Score qualitÃ© > 8/10                                â”‚
â”‚     â€¢ CohÃ©rence personnage                                â”‚
â”‚     Si OK â†’ Continue, sinon â†’ Regenerate                  â”‚
â”‚                                                             â”‚
â”‚  3. Animation Image â†’ VidÃ©o                                â”‚
â”‚     â†“                                                       â”‚
â”‚     Google Veo 3.1 API (Replicate)                        â”‚
â”‚     https://replicate.com/google/veo-3.1                  â”‚
â”‚     ParamÃ¨tres :                                           â”‚
â”‚     â€¢ prompt: Description mouvement                       â”‚
â”‚     â€¢ image: URL image gÃ©nÃ©rÃ©e                            â”‚
â”‚     â€¢ reference_images: [Mila refs] (optionnel)          â”‚
â”‚     â€¢ duration: 4-6 secondes                              â”‚
â”‚     â€¢ aspect_ratio: "9:16" (Reels)                       â”‚
â”‚     â€¢ resolution: "1080p"                                 â”‚
â”‚     â€¢ audio: true (gÃ©nÃ©rÃ© automatiquement)               â”‚
â”‚     Output : video.mp4 avec audio                         â”‚
â”‚                                                             â”‚
â”‚  4. Post-Processing VidÃ©o (Optionnel Phase 1)             â”‚
â”‚     â†“                                                       â”‚
â”‚     â€¢ Text overlay (hooks) si besoin                      â”‚
â”‚     â€¢ Remplacement audio si nÃ©cessaire                    â”‚
â”‚     Note : Veo 3.1 gÃ©nÃ¨re dÃ©jÃ  audio de qualitÃ©          â”‚
â”‚                                                             â”‚
â”‚  5. Upload & Storage                                       â”‚
â”‚     â†“                                                       â”‚
â”‚     â€¢ Upload Cloudinary                                   â”‚
â”‚     â€¢ URL permanente vidÃ©o                                â”‚
â”‚                                                             â”‚
â”‚  6. Publication Automatique                                â”‚
â”‚     â†“                                                       â”‚
â”‚     Buffer/Later via Make.com                             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Note** : Veo 3.1 gÃ©nÃ¨re nativement de l'audio synchronisÃ©, ce qui simplifie le pipeline (pas besoin d'ajouter de l'audio sÃ©parÃ©ment).

### Endpoints API Ã  CrÃ©er

```typescript
// Structure proposÃ©e

/api/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ generate             // Existant (Nano Banana)
â”‚   â””â”€â”€ validate             // Nouveau : quality check automatique
â”‚
â”œâ”€â”€ videos/
â”‚   â”œâ”€â”€ animate              // Nouveau : image â†’ vidÃ©o
â”‚   â”œâ”€â”€ post-process         // Nouveau : audio + overlays
â”‚   â””â”€â”€ status               // Nouveau : check progression
â”‚
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ generate-mixed       // Nouveau : dÃ©cide photo vs vidÃ©o
â”‚   â””â”€â”€ schedule-batch       // Nouveau : planifie mix hebdo
```

---

## ğŸ¨ SÃ©lection Photo vs VidÃ©o

### Logique de DÃ©cision Automatique

**CritÃ¨res pour choisir le format :**

```typescript
function shouldGenerateVideo(context: Context): boolean {
  // 1. Type de contenu
  const videoFriendlyContexts = [
    'gym_workout',
    'beach_waves',
    'street_walking',
    'balcony_golden_hour',
    'mirror_full_body',
    'cafe_lifestyle'
  ];
  
  if (!videoFriendlyContexts.includes(context.key)) {
    return false; // Photo only
  }
  
  // 2. Jour de la semaine (Reels Mardi, Jeudi, Sam, Dim)
  const dayOfWeek = new Date().getDay();
  const reelDays = [2, 4, 6, 0]; // Tue, Thu, Sat, Sun
  
  if (!reelDays.includes(dayOfWeek)) {
    return false;
  }
  
  // 3. Quota vidÃ©o/semaine (max 4 reels)
  const reelsThisWeek = await countReelsThisWeek();
  if (reelsThisWeek >= 4) {
    return false;
  }
  
  return true; // Generate video
}
```

### Rotation Intelligente

```yaml
Semaine Type (exemple):

Lundi:    Photo - Lifestyle (cafÃ©)
Mardi:    Reel  - Fitness (gym workout)
Mercredi: Photo - OOTD (rue Paris)
Jeudi:    Reel  - Lifestyle (balcon golden hour)
Vendredi: Photo - Casual (appartement)
Samedi:   Reel  - Beach/Pool (si Nice weekend)
Dimanche: Reel  - Chill vibes (Sunday mood)
```

---

## ğŸ”§ ImplÃ©mentation Supabase

### Nouvelle Colonne `content_type`

```sql
-- Ajouter Ã  la table generated_content
ALTER TABLE generated_content 
ADD COLUMN content_type TEXT DEFAULT 'photo'; -- 'photo' ou 'video'

ALTER TABLE generated_content
ADD COLUMN video_url TEXT; -- Si content_type = 'video'

ALTER TABLE generated_content
ADD COLUMN animation_params JSONB; -- ParamÃ¨tres d'animation utilisÃ©s
```

### Table `video_animations`

Tracking spÃ©cifique aux vidÃ©os gÃ©nÃ©rÃ©es

```sql
CREATE TABLE video_animations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  content_id UUID REFERENCES generated_content(id) ON DELETE CASCADE,
  source_image_url TEXT NOT NULL,
  animation_type TEXT, -- 'subtle', 'dynamic', 'environment'
  duration_seconds INT, -- 2, 3, 4
  motion_strength TEXT, -- 'low', 'medium', 'high'
  status TEXT DEFAULT 'pending', -- 'pending', 'processing', 'completed', 'failed'
  error_message TEXT,
  processing_time_seconds INT,
  cost_usd DECIMAL(10, 4),
  created_at TIMESTAMP DEFAULT NOW(),
  completed_at TIMESTAMP
);

CREATE INDEX idx_video_animations_content ON video_animations(content_id);
CREATE INDEX idx_video_animations_status ON video_animations(status);
```

### MÃ©triques VidÃ©o vs Photo

```sql
-- Comparer performance
SELECT 
  content_type,
  COUNT(*) as total_posts,
  AVG(likes) as avg_likes,
  AVG(comments) as avg_comments,
  AVG(saves) as avg_saves,
  AVG(reach) as avg_reach
FROM generated_content
LEFT JOIN analytics ON generated_content.id = analytics.content_id
WHERE published_at > NOW() - INTERVAL '30 days'
GROUP BY content_type;
```

---

## ğŸ“Š MÃ©triques de SuccÃ¨s

### KPIs Ã  Tracker

**Engagement :**

```
Photo statique (baseline):
â”œâ”€ Engagement rate : 2-4%
â”œâ”€ Reach : 1-2x followers
â””â”€ Saves : 1-3%

VidÃ©o/Reel (target):
â”œâ”€ Engagement rate : 4-8% (2x photo)
â”œâ”€ Reach : 3-5x followers (3x photo)
â””â”€ Shares : 1-2% (2x photo)
```

**Production :**

```
CoÃ»ts estimÃ©s:
â”œâ”€ Photo : ~$0.03-0.05
â”œâ”€ Animation : ~$[Ã€ DÃ‰TERMINER selon modÃ¨le]
â””â”€ Total/vidÃ©o : ~$[Ã€ CALCULER]

Target : <$0.15/vidÃ©o pour rester sous $20/mois total
```

**QualitÃ© :**

```
Quality checks:
â”œâ”€ Artefacts visuels : <5% des vidÃ©os
â”œâ”€ Uncanny valley dÃ©tectÃ© : <2%
â”œâ”€ DÃ©formations : 0%
â””â”€ Human approval rate : >95%
```

---

## âš ï¸ Risques & Mitigations

### Risque 1 : Uncanny Valley dans les Animations

**SymptÃ´mes :**
- Mouvements non naturels
- DÃ©formations visage/corps
- Physique irrÃ©aliste

**Mitigation :**
- Limiter durÃ©e Ã  2-3s maximum
- Ã‰viter gros plans extrÃªmes sur visage
- PrivilÃ©gier mouvements environnement > personnage
- **Human review obligatoire** avant publication
- A/B test : vidÃ©os vs photos (tracker engagement rÃ©el)

### Risque 2 : CoÃ»ts d'Animation Ã‰levÃ©s

**Mitigation :**
- Tester plusieurs modÃ¨les (comparer coÃ»t/qualitÃ©)
- Limiter Ã  1 vidÃ©o/jour (vs 3 photos)
- RÃ©utiliser animations rÃ©ussies (variations lÃ©gÃ¨res)
- Fallback : si budget dÃ©passÃ©, revenir 100% photo

### Risque 3 : Temps de Traitement Long

**Mitigation :**
- GÃ©nÃ©ration en batch overnight (queue system)
- Async processing (Replicate webhook)
- Buffer 24-48h Ã  l'avance
- Fallback : photo si vidÃ©o pas prÃªte

### Risque 4 : DÃ©tection "Deepfake" par Instagram

**Mitigation :**
- Animations subtiles (pas transformations extrÃªmes)
- Variation naturelle (pas tous les posts vidÃ©o)
- Watermark SynthID (si disponible)
- Disclosure "Virtual Creator" dans bio

---

## ğŸš€ Plan de DÃ©ploiement

### Phase 1 : Recherche & Tests (Semaine en cours)

**ğŸ¯ ModÃ¨le Prioritaire : Google Veo 3.1**

- [ ] Tester Veo 3.1 avec images Mila existantes
  - [ ] Test 1 : Portrait simple (respiration, cheveux)
  - [ ] Test 2 : Avec reference images (consistance)
  - [ ] Test 3 : Full body (mouvement)
  - [ ] Test 4 : Fitness context (workout pose)
  - [ ] Test 5 : Beach/environment (Ã©lÃ©ments naturels)
- [ ] Mesurer mÃ©triques Veo 3.1 :
  - [ ] CoÃ»t par gÃ©nÃ©ration (4s, 6s, 8s)
  - [ ] Temps de traitement
  - [ ] QualitÃ© visuelle (artefacts ?)
  - [ ] QualitÃ© audio gÃ©nÃ©rÃ©
  - [ ] Consistance visage/corps
- [ ] Si Veo 3.1 non satisfaisant : tester alternatives
- [ ] Documenter rÃ©sultats dans `docs/09-VIDEO-MODEL-SELECTION.md`

### Phase 2 : ImplÃ©mentation Technique (Semaine prochaine)

- [ ] CrÃ©er `/api/videos/animate`
- [ ] IntÃ©grer modÃ¨le sÃ©lectionnÃ©
- [ ] CrÃ©er tables Supabase (`video_animations`)
- [ ] Quality check automatique
- [ ] Tests batch (gÃ©nÃ©rer 10 vidÃ©os)

### Phase 3 : Post-Processing (Semaine 3)

- [ ] IntÃ©gration CapCut API ou FFmpeg
- [ ] SystÃ¨me d'ajout audio (trending sounds)
- [ ] Text overlays automatiques
- [ ] Multi-format export

### Phase 4 : Automatisation ComplÃ¨te (Semaine 4)

- [ ] Logique dÃ©cision photo vs vidÃ©o
- [ ] IntÃ©gration dans `/api/auto-post`
- [ ] Scheduling intelligent (Mix hebdo)
- [ ] Monitoring dashboard

### Phase 5 : Validation & Optimisation (Semaine 5+)

- [ ] Publier premiers Reels en production
- [ ] Tracker mÃ©triques vs photos
- [ ] A/B testing types mouvements
- [ ] Ajuster stratÃ©gie selon data

---

## ğŸ“š Checklist ComplÃ¨te

### Recherche ModÃ¨le

- [ ] Lister modÃ¨les disponibles Replicate
- [ ] Tester avec images Mila existantes
- [ ] Benchmark coÃ»t/qualitÃ©/temps
- [ ] Valider aucun artefact visuel
- [ ] SÃ©lectionner modÃ¨le final

### Base de DonnÃ©es

- [ ] Ajouter colonne `content_type` Ã  `generated_content`
- [ ] Ajouter colonne `video_url`
- [ ] CrÃ©er table `video_animations`
- [ ] CrÃ©er indexes appropriÃ©s

### Code Backend

- [ ] Service `src/lib/video-animation.ts`
- [ ] Endpoint `/api/videos/animate`
- [ ] Endpoint `/api/videos/status`
- [ ] Logique dÃ©cision photo/vidÃ©o
- [ ] Quality check automatique
- [ ] Queue system (async processing)

### Post-Processing

- [ ] Service audio (trending sounds)
- [ ] Text overlays
- [ ] Export multi-format
- [ ] Upload Cloudinary

### Tests

- [ ] Test animation 10 images diffÃ©rentes
- [ ] Test diffÃ©rents contextes (portrait, full body, env)
- [ ] Test durÃ©es (2s, 3s, 4s)
- [ ] Test motion strength (low, medium)
- [ ] Validation humaine

### Production

- [ ] IntÃ©gration dans workflow auto-post
- [ ] Cron jobs adaptÃ©s (gÃ©nÃ©ration overnight)
- [ ] Monitoring coÃ»ts vidÃ©o
- [ ] Dashboard analytics vidÃ©o vs photo

---

## ğŸ’¡ IdÃ©es d'Optimisation Future

### Court Terme

- **RÃ©utilisation intelligente** : MÃªme image animÃ©e diffÃ©remment = 2 vidÃ©os
- **Variations lÃ©gÃ¨res** : Changer audio/text = nouveau contenu
- **Best-of replay** : Re-poster meilleures vidÃ©os aprÃ¨s 3-6 mois

### Moyen Terme

- **Face expressions control** : ParamÃ©trer sourire, regard
- **Camera movements** : Pan, tilt, zoom programmables
- **Multi-shot** : SÃ©quences courtes (2-3 plans de 1s)

### Long Terme

- **Lip-sync** : Mila "parle" (voiceover IA)
- **Full body animation** : Marche, gestes complets
- **InteractivitÃ©** : VidÃ©os "reply" aux comments

---

## ğŸ“ˆ Impact ProjetÃ©

### Croissance AccÃ©lÃ©rÃ©e

```
ScÃ©nario Photo Only:
â”œâ”€ Mois 1-2 : 0 â†’ 2K followers
â”œâ”€ Mois 2-4 : 2K â†’ 10K followers
â””â”€ Mois 4-6 : 10K â†’ 25K followers

ScÃ©nario Photo + VidÃ©o (3x reach):
â”œâ”€ Mois 1-2 : 0 â†’ 3K followers (+50%)
â”œâ”€ Mois 2-4 : 3K â†’ 18K followers (+80%)
â””â”€ Mois 4-6 : 18K â†’ 45K followers (+80%)

AccÃ©lÃ©ration : ~6-8 semaines gagnÃ©es sur 10K milestone
```

### ROI VidÃ©o

```
Investissement supplÃ©mentaire:
â”œâ”€ DÃ©veloppement : ~8-12h (one-time)
â”œâ”€ CoÃ»t gÃ©nÃ©ration : +$[TBD]/mois
â””â”€ Temps review : +15min/jour

Retour:
â”œâ”€ Reach : 3x multiplier
â”œâ”€ Engagement : 2x multiplier
â”œâ”€ Croissance : +50-80% faster
â””â”€ MonÃ©tisation : -2 mois pour atteindre 10K
```

---

**DerniÃ¨re mise Ã  jour : 2 dÃ©cembre 2024**

**Note** : ModÃ¨le prioritaire identifiÃ© : **Google Veo 3.1** ([replicate.com/google/veo-3.1](https://replicate.com/google/veo-3.1)). Tests Ã  effectuer pour validation finale.

